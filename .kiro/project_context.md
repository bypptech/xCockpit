# Kiro AI Context - IoT Payment Gateway

## プロジェクト概要
Web3技術を活用したIoTデバイス制御システム。ユーザーはCoinbaseウォレットでUSDC決済を行い、一定時間IoTデバイスを制御可能。

## 核心機能
1. **ウォレット接続**: Coinbase Wallet SDK
2. **決済処理**: x402プロトコル + USDC
3. **デバイス制御**: WebSocket経由でESP32通信
4. **セッション管理**: 時間制限付きアクセス制御

## 技術的課題
- x402プロトコルの正確な実装
- リアルタイム通信の安定性
- セキュリティとユーザビリティのバランス
- テストネット環境での開発効率

## 開発優先度
1. **高**: 決済フローの確実性
2. **高**: デバイス通信の安定性
3. **中**: UIの使いやすさ
4. **中**: エラーハンドリングの充実

## 制約条件
- テストネット環境での開発
- ESP32の通信制限
- ブラウザのWebSocket制限
- Coinbase Wallet SDKの機能範囲